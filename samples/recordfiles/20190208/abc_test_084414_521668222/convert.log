ffmpeg version 4.1 Copyright (c) 2000-2018 the FFmpeg developers
  built with Apple LLVM version 10.0.0 (clang-1000.11.45.5)
  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.1_6 --enable-shared --enable-pthreads --enable-version3 --enable-hardcoded-tables --enable-avresample --cc=clang --host-cflags='-I/Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/include -I/Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/include/darwin' --host-ldflags= --enable-ffplay --enable-gpl --enable-libaom --enable-libbluray --enable-libmp3lame --enable-libopus --enable-librubberband --enable-libsnappy --enable-libtesseract --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libspeex --enable-videotoolbox --disable-libjack --disable-indev=jack --enable-libaom --enable-libsoxr
  libavutil      56. 22.100 / 56. 22.100
  libavcodec     58. 35.100 / 58. 35.100
  libavformat    58. 20.100 / 58. 20.100
  libavdevice    58.  5.100 / 58.  5.100
  libavfilter     7. 40.101 /  7. 40.101
  libavresample   4.  0.  0 /  4.  0.  0
  libswscale      5.  3.100 /  5.  3.100
  libswresample   3.  3.100 /  3.  3.100
  libpostproc    55.  3.100 / 55.  3.100
Input #0, lavfi, from 'anullsrc=channel_layout=mono:sample_rate=48000':
  Duration: N/A, start: 0.000000, bitrate: 384 kb/s
    Stream #0:0: Audio: pcm_u8, 48000 Hz, mono, u8, 384 kb/s
[aac @ 0x7fa9ce807a00] Estimating duration from bitrate, this may be inaccurate
Input #1, aac, from '0_20190208084418569.aac':
  Duration: 00:00:51.86, bitrate: 54 kb/s
    Stream #1:0: Audio: aac (LC), 48000 Hz, mono, fltp, 54 kb/s
Stream mapping:
  Stream #0:0 (pcm_u8) -> concat:in0:a0
  Stream #1:0 (aac) -> concat:in1:a0
  concat -> Stream #0:0 (aac)
Press [q] to stop, [?] for help
Output #0, ipod, to '0_20190208084418570_tmp.m4a':
  Metadata:
    encoder         : Lavf58.20.100
    Stream #0:0: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s (default)
    Metadata:
      encoder         : Lavc58.35.100 aac
size=     303kB time=00:00:47.29 bitrate=  52.5kbits/s speed= 191x    
video:0kB audio:294kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.218884%
[aac @ 0x7fa9cf011400] Qavg: 22761.699
ffmpeg version 4.1 Copyright (c) 2000-2018 the FFmpeg developers
  built with Apple LLVM version 10.0.0 (clang-1000.11.45.5)
  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.1_6 --enable-shared --enable-pthreads --enable-version3 --enable-hardcoded-tables --enable-avresample --cc=clang --host-cflags='-I/Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/include -I/Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/include/darwin' --host-ldflags= --enable-ffplay --enable-gpl --enable-libaom --enable-libbluray --enable-libmp3lame --enable-libopus --enable-librubberband --enable-libsnappy --enable-libtesseract --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libspeex --enable-videotoolbox --disable-libjack --disable-indev=jack --enable-libaom --enable-libsoxr
  libavutil      56. 22.100 / 56. 22.100
  libavcodec     58. 35.100 / 58. 35.100
  libavformat    58. 20.100 / 58. 20.100
  libavdevice    58.  5.100 / 58.  5.100
  libavfilter     7. 40.101 /  7. 40.101
  libavresample   4.  0.  0 /  4.  0.  0
  libswscale      5.  3.100 /  5.  3.100
  libswresample   3.  3.100 /  3.  3.100
  libpostproc    55.  3.100 / 55.  3.100
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from '0_20190208084418570_tmp.m4a':
  Metadata:
    major_brand     : M4A 
    minor_version   : 512
    compatible_brands: isomiso2
    encoder         : Lavf58.20.100
  Duration: 00:00:47.32, start: 0.000000, bitrate: 52 kb/s
    Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 50 kb/s (default)
    Metadata:
      handler_name    : SoundHandler
Input #1, lavfi, from 'color=black:s=360x640:r=15':
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #1:0: Video: rawvideo (I420 / 0x30323449), yuv420p, 360x640 [SAR 1:1 DAR 9:16], 15 tbr, 15 tbn, 15 tbc
Input #2, mov,mp4,m4a,3gp,3g2,mj2, from '0_20190208084418974.mp4':
  Metadata:
    major_brand     : mp42
    minor_version   : 0
    compatible_brands: mp42isom
    creation_time   : 2019-02-08T08:44:18.000000Z
  Duration: 00:00:46.89, start: 0.000000, bitrate: 405 kb/s
    Stream #2:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 360x640, 404 kb/s, 15.16 fps, 15.17 tbr, 1k tbn, 30 tbc (default)
    Metadata:
      creation_time   : 2019-02-08T08:44:18.000000Z
      encoder         : JVT/AVC Coding
Stream mapping:
  Stream #1:0 (rawvideo) -> overlay:main
  Stream #2:0 (h264) -> scale
  Stream #0:0 -> #0:0 (copy)
  overlay -> Stream #0:1 (libx264)
Press [q] to stop, [?] for help
[libx264 @ 0x7fe0ea81a600] using SAR=1/1
[libx264 @ 0x7fe0ea81a600] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x7fe0ea81a600] profile High, level 2.2
[libx264 @ 0x7fe0ea81a600] 264 - core 155 r2917 0a84d98 - H.264/MPEG-4 AVC codec - Copyleft 2003-2018 - http://www.videolan.org/x264.html - options: cabac=1 ref=1 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=2 psy=1 psy_rd=1.00:0.00 mixed_ref=0 me_range=16 chroma_me=1 trellis=0 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=0 threads=12 lookahead_threads=4 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=1 keyint=250 keyint_min=15 scenecut=40 intra_refresh=0 rc_lookahead=10 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to '0_20190208084418570_av.mp4':
  Metadata:
    major_brand     : M4A 
    minor_version   : 512
    compatible_brands: isomiso2
    encoder         : Lavf58.20.100
    Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 50 kb/s (default)
    Metadata:
      handler_name    : SoundHandler
    Stream #0:1: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p, 360x640 [SAR 1:1 DAR 9:16], q=-1--1, 15 fps, 15360 tbn, 15 tbc (default)
    Metadata:
      encoder         : Lavc58.35.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
frame=  609 fps=0.0 q=27.0 size=    1280kB time=00:00:38.66 bitrate= 271.2kbits/s speed=77.3x    frame=  709 fps=0.0 q=-1.0 Lsize=    1393kB time=00:00:47.25 bitrate= 241.4kbits/s speed=86.2x    
video:1074kB audio:294kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.850614%
[libx264 @ 0x7fe0ea81a600] frame I:8     Avg QP:13.22  size: 10862
[libx264 @ 0x7fe0ea81a600] frame P:314   Avg QP:17.42  size:  2811
[libx264 @ 0x7fe0ea81a600] frame B:387   Avg QP:18.43  size:   335
[libx264 @ 0x7fe0ea81a600] consecutive B-frames: 18.2% 23.7% 10.2% 48.0%
[libx264 @ 0x7fe0ea81a600] mb I  I16..4: 48.8% 28.0% 23.1%
[libx264 @ 0x7fe0ea81a600] mb P  I16..4:  2.8%  5.3%  0.9%  P16..4: 25.0%  4.2%  2.7%  0.0%  0.0%    skip:59.0%
[libx264 @ 0x7fe0ea81a600] mb B  I16..4:  0.3%  0.6%  0.1%  B16..8:  4.0%  1.6%  0.2%  direct: 1.3%  skip:91.9%  L0:42.8% L1:40.6% BI:16.6%
[libx264 @ 0x7fe0ea81a600] 8x8 transform intra:52.9% inter:34.3%
[libx264 @ 0x7fe0ea81a600] coded y,uvDC,uvAC intra: 48.8% 30.6% 3.4% inter: 6.6% 3.0% 0.1%
[libx264 @ 0x7fe0ea81a600] i16 v,h,dc,p: 51% 21% 22%  6%
[libx264 @ 0x7fe0ea81a600] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 29% 25% 24%  3%  3%  6%  2%  3%  5%
[libx264 @ 0x7fe0ea81a600] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 29% 19% 16%  5%  5% 13%  4%  4%  7%
[libx264 @ 0x7fe0ea81a600] i8c dc,h,v,p: 61% 18% 18%  2%
[libx264 @ 0x7fe0ea81a600] Weighted P-Frames: Y:2.2% UV:0.3%
[libx264 @ 0x7fe0ea81a600] kb/s:186.00
Offset_time : 0
UID:0_20190208084418570
DEBUG:False:['0.000 0_20190208084418569.aac create \n', '0.404 0_20190208084418974.mp4 create \n', '0.405 0_20190208084418974.mp4 info width=360 height=640 rotation=0\n', '47.294 0_20190208084418974.mp4 close \n', '47.294 0_20190208084418569.aac close \n']
Audio Clip: : start_time=0.000, end_time=0.000
Audio Clip 0: 0_20190208084418569.aac: start_time=0.000, end_time=47.294
Video Clip 0: 0_20190208084418974.mp4: start_time=0.405, end_time=47.294, width=360, height=640
Generate Audio File
==============================audio ffmpeg=====================================
ffmpeg -f lavfi -t 0.001 -i anullsrc=channel_layout=mono:sample_rate=48000 -i 0_20190208084418569.aac -filter_complex "concat=n=2:v=0:a=1[audio]"  -map "[audio]" -to 47.294000 -y 0_20190208084418570_tmp.m4a 2>&1 | tee -a convert.log
ffmpeg -f lavfi -t 0.001 -i anullsrc=channel_layout=mono:sample_rate=48000 -i 0_20190208084418569.aac -filter_complex "concat=n=2:v=0:a=1[audio]"  -map "[audio]" -to 47.294000 -y 0_20190208084418570_tmp.m4a 2>&1 | tee -a convert.log
Generate MP4 file:
Output resolution: (360, 640)
=================================video ffmpeg ========================
ffmpeg -i 0_20190208084418570_tmp.m4a -f lavfi -i "color=black:s=360x640:r=15" -i 0_20190208084418974.mp4 -filter_complex "[2]scale=360x640,setpts=PTS-STARTPTS+0.405/TB[scale2];[1][scale2]overlay=eof_action=pass[video]"  -map 0:a:0 -map "[video]" -c:a copy -c:v libx264 -r 15 -preset veryfast -shortest -to 47.294000 -y 0_20190208084418570_av.mp4 2>&1 | tee -a convert.log
ffmpeg -i 0_20190208084418570_tmp.m4a -f lavfi -i "color=black:s=360x640:r=15" -i 0_20190208084418974.mp4 -filter_complex "[2]scale=360x640,setpts=PTS-STARTPTS+0.405/TB[scale2];[1][scale2]overlay=eof_action=pass[video]"  -map 0:a:0 -map "[video]" -c:a copy -c:v libx264 -r 15 -preset veryfast -shortest -to 47.294000 -y 0_20190208084418570_av.mp4 2>&1 | tee -a convert.log



